(function(E){var M="mmenu",I="4.2.5";if(E[M]){return}var N={$wndw:null,$html:null,$body:null,$page:null,$blck:null,$allMenus:null};var L={},D={},J={},B=0,C=0;E[M]=function(Q,O,P){N.$allMenus=N.$allMenus.add(Q);this.$menu=Q;this.opts=O;this.conf=P;this.serialnr=B++;this._init();return this};E[M].prototype={open:function(){var O=this;this._openSetup();setTimeout(function(){O._openFinish()},50);return"open"},_openSetup:function(){C=N.$wndw.scrollTop();this.$menu.addClass(L.current);N.$allMenus.not(this.$menu).trigger(J.close);N.$page.data(D.style,N.$page.attr("style")||"");N.$wndw.trigger(J.resize,[true]);if(this.opts.modal){N.$html.addClass(L.modal)}if(this.opts.moveBackground){N.$html.addClass(L.background)}if(this.opts.position!="left"){N.$html.addClass(L.mm(this.opts.position))}if(this.opts.zposition!="back"){N.$html.addClass(L.mm(this.opts.zposition))}if(this.opts.classes){N.$html.addClass(this.opts.classes)}N.$html.addClass(L.opened);this.$menu.addClass(L.opened)},_openFinish:function(){var O=this;H(N.$page,function(){O.$menu.trigger(J.opened)},this.conf.transitionDuration);N.$html.addClass(L.opening);this.$menu.trigger(J.opening)},close:function(){var O=this;H(N.$page,function(){O.$menu.removeClass(L.current).removeClass(L.opened);N.$html.removeClass(L.opened).removeClass(L.modal).removeClass(L.background).removeClass(L.mm(O.opts.position)).removeClass(L.mm(O.opts.zposition));if(O.opts.classes){N.$html.removeClass(O.opts.classes)}N.$page.attr("style",N.$page.data(D.style));O.$menu.trigger(J.closed)},this.conf.transitionDuration);N.$html.removeClass(L.opening);this.$menu.trigger(J.closing);return"close"},_init:function(){this.opts=K(this.opts,this.conf,this.$menu);this.direction=(this.opts.slidingSubmenus)?"horizontal":"vertical";this._initPage(N.$page);this._initMenu();this._initBlocker();this._initPanles();this._initLinks();this._initOpenClose();this._bindCustomEvents();if(E[M].addons){for(var O=0;O<E[M].addons.length;O++){if(typeof this["_addon_"+E[M].addons[O]]=="function"){this["_addon_"+E[M].addons[O]]()}}}},_bindCustomEvents:function(){var O=this;this.$menu.off(J.open+" "+J.close+" "+J.setPage+" "+J.update).on(J.open+" "+J.close+" "+J.setPage+" "+J.update,function(Q){Q.stopPropagation()});this.$menu.on(J.open,function(Q){if(E(this).hasClass(L.current)){Q.stopImmediatePropagation();return false}return O.open()}).on(J.close,function(Q){if(!E(this).hasClass(L.current)){Q.stopImmediatePropagation();return false}return O.close()}).on(J.setPage,function(R,Q){O._initPage(Q);O._initOpenClose()});var P=this.$menu.find(this.opts.isMenu&&this.direction!="horizontal"?"ul, ol":"."+L.panel);P.off(J.toggle+" "+J.open+" "+J.close).on(J.toggle+" "+J.open+" "+J.close,function(Q){Q.stopPropagation()});if(this.direction=="horizontal"){P.on(J.open,function(Q){return A(E(this),O.$menu)})}else{P.on(J.toggle,function(R){E("#menu>ul>li").each(function(){E(this).removeClass(L.opened)});var Q=E(this);return Q.triggerHandler(Q.parent().hasClass(L.opened)?J.close:J.open)}).on(J.open,function(Q){E(this).parent().addClass(L.opened);return"open"}).on(J.close,function(Q){E(this).parent().removeClass(L.opened);return"close"})}},_initBlocker:function(){var O=this;if(!N.$blck){N.$blck=E('<div id="'+L.blocker+'" />').appendTo(N.$body)}N.$blck.off(J.touchstart).on(J.touchstart,function(P){P.preventDefault();P.stopPropagation();N.$blck.trigger(J.mousedown)}).on(J.mousedown,function(P){P.preventDefault();if(!N.$html.hasClass(L.modal)){O.$menu.trigger(J.close)}})},_initPage:function(O){if(!O){O=E(this.conf.pageSelector,N.$body);if(O.length>1){E[M].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf.pageNodetype+">.");O=O.wrapAll("<"+this.conf.pageNodetype+" />").parent()}}O.addClass(L.page);N.$page=O},_initMenu:function(){var O=this;if(this.conf.clone){this.$menu=this.$menu.clone(true);this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){E(this).attr("id",L.mm(E(this).attr("id")))})}this.$menu.contents().each(function(){if(E(this)[0].nodeType==3){E(this).remove()}});this.$menu[this.conf.menuInjectMethod+"To"](this.conf.menuWrapperSelector).addClass(L.menu);this.$menu.addClass(L.mm(this.direction));if(this.opts.classes){this.$menu.addClass(this.opts.classes)}if(this.opts.isMenu){this.$menu.addClass(L.ismenu)}if(this.opts.position!="left"){this.$menu.addClass(L.mm(this.opts.position))}if(this.opts.zposition!="back"){this.$menu.addClass(L.mm(this.opts.zposition))}},_initPanles:function(){var O=this;this.__refactorClass(E("."+this.conf.listClass,this.$menu),"list");if(this.opts.isMenu){E("ul, ol",this.$menu).not(".mm-nolist").addClass(L.list)}var P=E("."+L.list+" > li",this.$menu);this.__refactorClass(P.filter("."+this.conf.selectedClass),"selected");this.__refactorClass(P.filter("."+this.conf.labelClass),"label");this.__refactorClass(P.filter("."+this.conf.spacerClass),"spacer");P.off(J.setSelected).on(J.setSelected,function(U,V){U.stopPropagation();P.removeClass(L.selected);if(typeof V!="boolean"){V=true}if(V){E(this).addClass(L.selected)}});this.__refactorClass(E("."+this.conf.panelClass,this.$menu),"panel");this.$menu.children().filter(this.conf.panelNodetype).add(this.$menu.find("."+L.list).children().children().filter(this.conf.panelNodetype)).addClass(L.panel);var Q=E("."+L.panel,this.$menu);Q.each(function(V){var U=E(this),W=U.attr("id")||L.mm("m"+O.serialnr+"-p"+V);U.attr("id",W)});Q.find("."+L.panel).each(function(Z){var Y=E(this),X=Y.is("ul, ol")?Y:Y.find("ul ,ol").first(),U=Y.parent(),V=U.find("> a, > span"),W=U.closest("."+L.panel);Y.data(D.parent,U);if(U.parent().is("."+L.list)){var a=E('<a class="'+L.subopen+'" href="#'+Y.attr("id")+'" />').insertBefore(V);if(!V.is("a")){a.addClass(L.fullsubopen)}if(O.direction=="horizontal"){X.prepend('<li class="'+L.subtitle+'"><a class="'+L.subclose+'" href="#'+W.attr("id")+'">'+V.text()+"</a></li>")}}});var R=this.direction=="horizontal"?J.open:J.toggle;Q.each(function(V){var U=E(this),W=U.attr("id");E('a[href="#'+W+'"]',O.$menu).off(J.click).on(J.click,function(X){X.preventDefault();U.trigger(R)})});if(this.direction=="horizontal"){var T=E("."+L.list+" > li."+L.selected,this.$menu);T.parents("li").removeClass(L.selected).end().add(T.parents("li")).each(function(){var V=E(this),U=V.find("> ."+L.panel);if(U.length){V.parents("."+L.panel).addClass(L.subopened);U.addClass(L.opened)}}).closest("."+L.panel).addClass(L.opened).parents("."+L.panel).addClass(L.subopened)}else{var T=E("li."+L.selected,this.$menu);T.parents("li").removeClass(L.selected).end().add(T.parents("li")).addClass(L.opened)}var S=Q.filter("."+L.opened);if(!S.length){S=Q.first()}S.addClass(L.opened).last().addClass(L.current);if(this.direction=="horizontal"){Q.find("."+L.panel).appendTo(this.$menu)}},_initLinks:function(){var O=this;E("."+L.list+" > li > a",this.$menu).not("."+L.subopen).not("."+L.subclose).not('[rel="external"]').not('[target="_blank"]').off(J.click).on(J.click,function(S){var Q=E(this),P=Q.attr("href");if(O.__valueOrFn(O.opts.onClick.setSelected,Q)){Q.parent().trigger(J.setSelected)}var R=O.__valueOrFn(O.opts.onClick.preventDefault,Q,P.slice(0,1)=="#");if(R){S.preventDefault()}if(O.__valueOrFn(O.opts.onClick.blockUI,Q,!R)){N.$html.addClass(L.blocking)}if(O.__valueOrFn(O.opts.onClick.close,Q,R)){O.$menu.triggerHandler(J.close)}})},_initOpenClose:function(){var O=this;var P=this.$menu.attr("id");if(P&&P.length){if(this.conf.clone){P=L.umm(P)}E('a[href="#'+P+'"]').off(J.click).on(J.click,function(Q){Q.preventDefault();O.$menu.trigger(J.open)})}var P=N.$page.attr("id");if(P&&P.length){E('a[href="#'+P+'"]').on(J.click,function(Q){Q.preventDefault();O.$menu.trigger(J.close)})}},__valueOrFn:function(O,P,Q){if(typeof O=="function"){return O.call(P[0])}if(typeof O=="undefined"&&typeof Q!="undefined"){return Q}return O},__refactorClass:function(O,P){O.removeClass(this.conf[P+"Class"]).addClass(L[P])}};E.fn[M]=function(O,P){if(!N.$wndw){G()}O=K(O,P);P=F(P);return this.each(function(){var Q=E(this);if(Q.data(M)){return}Q.data(M,new E[M](Q,O,P))})};E[M].version=I;E[M].defaults={position:"left",zposition:"back",moveBackground:true,slidingSubmenus:true,modal:false,classes:"",onClick:{setSelected:true}};E[M].configuration={panelClass:"Panel",listClass:"List",selectedClass:"Selected",labelClass:"Label",spacerClass:"Spacer",pageNodetype:"div",panelNodetype:"ul, ol, div",pageSelector:null,menuWrapperSelector:"body",menuInjectMethod:"prepend",transitionDuration:400};(function(){var R=window.document,T=window.navigator.userAgent,S=document.createElement("div").style;var P="ontouchstart" in R,O="WebkitOverflowScrolling" in R.documentElement.style,Q=(function(){if(T.indexOf("Android")>=0){return 2.4>parseFloat(T.slice(T.indexOf("Android")+8))}return false})();E[M].support={touch:P,oldAndroidBrowser:Q,overflowscrolling:(function(){if(!P){return true}if(O){return true}if(Q){return false}return true})()}})();E[M].debug=function(O){};E[M].deprecated=function(O,P){if(typeof console!="undefined"&&typeof console.warn!="undefined"){console.warn("MMENU: "+O+" is deprecated, use "+P+" instead.")}};function K(O,P,R){if(R){if(typeof O!="object"){O={}}if(typeof O.isMenu!="boolean"){var Q=R.children();O.isMenu=(Q.length==1&&Q.is(P.panelNodetype))}return O}O=E.extend(true,{},E[M].defaults,O);if(O.position=="top"||O.position=="bottom"){if(O.zposition=="back"||O.zposition=="next"){E[M].deprecated('Using position "'+O.position+'" in combination with zposition "'+O.zposition+'"','zposition "front"');O.zposition="front"}}return O}function F(O){O=E.extend(true,{},E[M].configuration,O);if(typeof O.pageSelector!="string"){O.pageSelector="> "+O.pageNodetype}if(O.menuInjectMethod!="append"){O.menuInjectMethod="prepend"}return O}function G(){N.$wndw=E(window);N.$html=E("html");N.$body=E("body");N.$allMenus=E();E.each([L,D,J],function(Q,P){P.add=function(R){R=R.split(" ");for(var S in R){P[R[S]]=P.mm(R[S])}}});L.mm=function(P){return"mm-"+P};L.add("menu ismenu panel list subtitle selected label spacer current highest hidden page blocker modal background opened opening subopened subopen fullsubopen subclose");L.umm=function(P){if(P.slice(0,3)=="mm-"){P=P.slice(3)}return P};D.mm=function(P){return"mm-"+P};D.add("parent style");J.mm=function(P){return P+".mm"};J.add("toggle open opening opened close closing closed update setPage setSelected transitionend webkitTransitionEnd mousedown touchstart mouseup touchend scroll touchmove click keydown keyup resize");N.$wndw.on(J.keydown,function(P){if(N.$html.hasClass(L.opened)){if(P.keyCode==9){P.preventDefault();return false}}});var O=0;N.$wndw.on(J.resize,function(R,Q){if(Q||N.$html.hasClass(L.opened)){var P=N.$wndw.height();if(Q||P!=O){O=P;N.$page.css("minHeight",P)}}});E[M]._c=L;E[M]._d=D;E[M]._e=J;E[M].glbl=N}function A(O,R){if(O.hasClass(L.current)){return false}var P=E("."+L.panel,R),Q=P.filter("."+L.current);P.removeClass(L.highest).removeClass(L.current).not(O).not(Q).addClass(L.hidden);if(O.hasClass(L.opened)){Q.addClass(L.highest).removeClass(L.opened).removeClass(L.subopened)}else{O.addClass(L.highest);Q.addClass(L.subopened)}O.removeClass(L.hidden).removeClass(L.subopened).addClass(L.current).addClass(L.opened);return"open"}function H(P,O,Q){var S=false,R=function(){if(!S){O.call(P[0])}S=true};P.one(J.transitionend,R);P.one(J.webkitTransitionEnd,R);setTimeout(R,Q*1.1)}})(jQuery);