/* Hammer.JS - v1.0.10dev - 2014-03-25
 * http://eightmedia.github.io/hammer.js
 *
 * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */
(function(J,F){var e=function(Aj,Ak){return new e.Instance(Aj,Ak||{})};e.VERSION="1.0.10dev";e.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};e.HAS_POINTEREVENTS=J.navigator.pointerEnabled||J.navigator.msPointerEnabled;e.HAS_TOUCHEVENTS=("ontouchstart" in J);e.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i;e.NO_MOUSEEVENTS=e.HAS_TOUCHEVENTS&&J.navigator.userAgent.match(e.MOBILE_REGEX);e.EVENT_TYPES={};e.UPDATE_VELOCITY_INTERVAL=16;e.DOCUMENT=J.document;var d=e.DIRECTION_DOWN="down";var C=e.DIRECTION_LEFT="left";var l=e.DIRECTION_UP="up";var n=e.DIRECTION_RIGHT="right";var T=e.POINTER_MOUSE="mouse";var r=e.POINTER_TOUCH="touch";var H=e.POINTER_PEN="pen";var N=e.EVENT_START="start";var m=e.EVENT_MOVE="move";var P=e.EVENT_END="end";e.plugins=e.plugins||{};e.gestures=e.gestures||{};e.READY=false;function U(){if(e.READY){return}s.determineEventTypes();W.each(e.gestures,function(Aj){g.register(Aj)});s.onTouch(e.DOCUMENT,m,g.detect);s.onTouch(e.DOCUMENT,P,g.detect);e.READY=true}var W=e.utils={extend:function Y(Am,Al,Aj){for(var Ak in Al){if(Am[Ak]!==F&&Aj){continue}Am[Ak]=Al[Ak]}return Am},each:function f(An,Aj,Al){var Am,Ak;if("forEach" in An){An.forEach(Aj,Al)}else{if(An.length!==F){for(Am=-1;(Ak=An[++Am]);){if(Aj.call(Al,Ak,Am,An)===false){return}}}else{for(Am in An){if(An.hasOwnProperty(Am)&&Aj.call(Al,An[Am],Am,An)===false){return}}}}},inStr:function p(Ak,Aj){return Ak.indexOf(Aj)>-1},hasParent:function O(Ak,Aj){while(Ak){if(Ak==Aj){return true}Ak=Ak.parentNode}return false},getCenter:function b(Am){var An=[],Aj=[],Ak=[],Al=[];W.each(Am,function(Ao){An.push(Ao.pageX);Aj.push(Ao.pageY);Ak.push(Ao.clientX);Al.push(Ao.clientY)});return{pageX:(Math.min.apply(Math,An)+Math.max.apply(Math,An))/2,pageY:(Math.min.apply(Math,Aj)+Math.max.apply(Math,Aj))/2,clientX:(Math.min.apply(Math,Ak)+Math.max.apply(Math,Ak))/2,clientY:(Math.min.apply(Math,Al)+Math.max.apply(Math,Al))/2}},getVelocity:function Ae(Ak,Aj,Al){return{x:Math.abs(Aj/Ak)||0,y:Math.abs(Al/Ak)||0}},getAngle:function B(Am,Al){var Aj=Al.clientX-Am.clientX,Ak=Al.clientY-Am.clientY;return Math.atan2(Ak,Aj)*180/Math.PI},getDirection:function Ab(Am,Al){var Aj=Math.abs(Am.clientX-Al.clientX),Ak=Math.abs(Am.clientY-Al.clientY);if(Aj>=Ak){return Am.clientX-Al.clientX>0?C:n}return Am.clientY-Al.clientY>0?l:d},getDistance:function S(Am,Al){var Aj=Al.clientX-Am.clientX,Ak=Al.clientY-Am.clientY;return Math.sqrt((Aj*Aj)+(Ak*Ak))},getScale:function G(Aj,Ak){if(Aj.length>=2&&Ak.length>=2){return this.getDistance(Ak[0],Ak[1])/this.getDistance(Aj[0],Aj[1])}return 1},getRotation:function v(Aj,Ak){if(Aj.length>=2&&Ak.length>=2){return this.getAngle(Ak[1],Ak[0])-this.getAngle(Aj[1],Aj[0])}return 0},isVertical:function Ac(Aj){return Aj==l||Aj==d},toggleDefaultBehavior:function Ai(Am,An,Ak){if(!An||!Am||!Am.style){return}W.each(["webkit","moz","Moz","ms","o",""],function Aj(Ao){W.each(An,function(Ap,Aq){if(Ao){Aq=Ao+Aq.substring(0,1).toUpperCase()+Aq.substring(1)}if(Aq in Am.style){Am.style[Aq]=!Ak&&Ap}})});var Al=function(){return false};if(An.userSelect=="none"){Am.onselectstart=!Ak&&Al}if(An.userDrag=="none"){Am.ondragstart=!Ak&&Al}}};e.Instance=function(Ak,Al){var Aj=this;U();this.element=Ak;this.enabled=true;this.options=W.extend(W.extend({},e.defaults),Al||{});if(this.options.stop_browser_behavior){W.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,false)}this.eventStartHandler=s.onTouch(Ak,N,function(Am){if(Aj.enabled){g.startDetect(Aj,Am)}});this.eventHandlers=[];return this};e.Instance.prototype={on:function Ag(Aj,Ak){var Al=Aj.split(" ");W.each(Al,function(Am){this.element.addEventListener(Am,Ak,false);this.eventHandlers.push({gesture:Am,handler:Ak})},this);return this},off:function k(Aj,Ak){var Al=Aj.split(" "),An,Am;W.each(Al,function(Ao){this.element.removeEventListener(Ao,Ak,false);for(An=-1;(Am=this.eventHandlers[++An]);){if(Am.gesture===Ao&&Am.handler===Ak){this.eventHandlers.splice(An,1)}}},this);return this},trigger:function Ah(Aj,Al){if(!Al){Al={}}var Ak=e.DOCUMENT.createEvent("Event");Ak.initEvent(Aj,true,true);Ak.gesture=Al;var Am=this.element;if(W.hasParent(Al.target,Am)){Am=Al.target}Am.dispatchEvent(Ak);return this},enable:function K(Aj){this.enabled=Aj;return this},dispose:function X(){var Ak,Aj;if(this.options.stop_browser_behavior){W.toggleDefaultBehavior(this.element,this.options.stop_browser_behavior,true)}for(Ak=-1;(Aj=this.eventHandlers[++Ak]);){this.element.removeEventListener(Aj.gesture,Aj.handler,false)}this.eventHandlers=[];s.unbindDom(this.element,e.EVENT_TYPES[N],this.eventStartHandler);return null}};var a=null;var h=false;var V=false;var s=e.event={bindDom:function(Am,Ak,Aj){var Al=Ak.split(" ");W.each(Al,function(An){Am.addEventListener(An,Aj,false)})},unbindDom:function(Am,Ak,Aj){var Al=Ak.split(" ");W.each(Al,function(An){Am.removeEventListener(An,Aj,false)})},onTouch:function z(An,Al,Ak){var Am=this;var Aj=function Aj(Ap){var Aq=Ap.type.toLowerCase();if(W.inStr(Aq,"mouse")&&V){return}else{if(W.inStr(Aq,"touch")||W.inStr(Aq,"pointerdown")||(W.inStr(Aq,"mouse")&&Ap.which===1)){h=true}else{if(W.inStr(Aq,"mouse")&&!Ap.which){h=false}}}if(W.inStr(Aq,"touch")||W.inStr(Aq,"pointer")){V=true}var Ao=0;if(h){if(e.HAS_POINTEREVENTS&&Al!=P){Ao=x.updatePointer(Al,Ap)}else{if(W.inStr(Aq,"touch")){Ao=Ap.touches.length}else{if(!V){Ao=W.inStr(Aq,"up")?0:1}}}if(Ao>0&&Al==P){Al=m}else{if(!Ao){Al=P}}if(Ao||a===null){a=Ap}Ak.call(g,Am.collectEventData(An,Al,Am.getTouchList(a,Al),Ap));if(e.HAS_POINTEREVENTS&&Al==P){Ao=x.updatePointer(Al,Ap)}}if(!Ao){a=null;h=false;V=false;x.reset()}};this.bindDom(An,e.EVENT_TYPES[Al],Aj);return Aj},determineEventTypes:function o(){var Aj;if(e.HAS_POINTEREVENTS){Aj=x.getEvents()}else{if(e.NO_MOUSEEVENTS){Aj=["touchstart","touchmove","touchend touchcancel"]}else{Aj=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]}}e.EVENT_TYPES[N]=Aj[0];e.EVENT_TYPES[m]=Aj[1];e.EVENT_TYPES[P]=Aj[2]},getTouchList:function I(Aj){if(e.HAS_POINTEREVENTS){return x.getTouchList()}if(Aj.touches){return Aj.touches}Aj.identifier=1;return[Aj]},collectEventData:function Z(Am,Al,An,Ak){var Aj=r;if(W.inStr(Ak.type,"mouse")||x.matchType(T,Ak)){Aj=T}return{center:W.getCenter(An),timeStamp:new Date().getTime(),target:Ak.target,touches:An,eventType:Al,pointerType:Aj,srcEvent:Ak,preventDefault:function(){var Ao=this.srcEvent;Ao.preventManipulation&&Ao.preventManipulation();Ao.preventDefault&&Ao.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return g.stopDetect()}}}};var x=e.PointerEvent={pointers:{},getTouchList:function I(){var Aj=[];W.each(this.pointers,function(Ak){Aj.push(Ak)});return Aj},updatePointer:function u(Ak,Aj){if(Ak==P){delete this.pointers[Aj.pointerId]}else{Aj.identifier=Aj.pointerId;this.pointers[Aj.pointerId]=Aj}return Object.keys(this.pointers).length},matchType:function A(Ak,Aj){if(!Aj.pointerType){return false}var Am=Aj.pointerType,Al={};Al[T]=(Am===T);Al[r]=(Am===r);Al[H]=(Am===H);return Al[Ak]},getEvents:function E(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function D(){this.pointers={}}};var g=e.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function Af(Aj,Ak){if(this.current){return}this.stopped=false;this.current={inst:Aj,startEvent:W.extend({},Ak),lastEvent:false,lastVelocityEvent:false,velocity:false,name:""};this.detect(Ak)},detect:function q(Am){if(!this.current||this.stopped){return}Am=this.extendEventData(Am);var Ak=this.current.inst,Al=Ak.options;W.each(this.gestures,function Aj(An){if(!this.stopped&&Al[An.name]!==false&&Ak.enabled!==false){if(An.handler.call(An,Am,Ak)===false){this.stopDetect();return false}}},this);if(this.current){this.current.lastEvent=Am}if(Am.eventType==P&&!Am.touches.length-1){this.stopDetect()}return Am},stopDetect:function Ad(){this.previous=W.extend({},this.current);this.current=null;this.stopped=true},getVelocityData:function t(Am,Al,Ak,An){var Ap=this.current,Ao=Ap.lastVelocityEvent,Aj=Ap.velocity;if(Ao&&Am.timeStamp-Ao.timeStamp>e.UPDATE_VELOCITY_INTERVAL){Aj=W.getVelocity(Am.timeStamp-Ao.timeStamp,Am.center.clientX-Ao.center.clientX,Am.center.clientY-Ao.center.clientY);Ap.lastVelocityEvent=Am}else{if(!Ap.velocity){Aj=W.getVelocity(Al,Ak,An);Ap.lastVelocityEvent=Am}}Ap.velocity=Aj;Am.velocityX=Aj.x;Am.velocityY=Aj.y},getInterimData:function R(Ak){var Aj=this.current.lastEvent,Am,Al;if(Ak.eventType==P){Am=Aj&&Aj.interimAngle;Al=Aj&&Aj.interimDirection}else{Am=Aj&&W.getAngle(Aj.center,Ak.center);Al=Aj&&W.getDirection(Aj.center,Ak.center)}Ak.interimAngle=Am;Ak.interimDirection=Al},extendEventData:function c(Al){var Ao=this.current,An=Ao.startEvent;if(Al.touches.length!=An.touches.length||Al.touches===An.touches){An.touches=[];W.each(Al.touches,function(Ap){An.touches.push(W.extend({},Ap))})}var Ak=Al.timeStamp-An.timeStamp,Aj=Al.center.clientX-An.center.clientX,Am=Al.center.clientY-An.center.clientY;this.getVelocityData(Al,Ak,Aj,Am);this.getInterimData(Al);W.extend(Al,{startEvent:An,deltaTime:Ak,deltaX:Aj,deltaY:Am,distance:W.getDistance(An.center,Al.center),angle:W.getAngle(An.center,Al.center),direction:W.getDirection(An.center,Al.center),scale:W.getScale(An.touches,Al.touches),rotation:W.getRotation(An.touches,Al.touches)});return Al},register:function Aa(Aj){var Ak=Aj.defaults||{};if(Ak[Aj.name]===F){Ak[Aj.name]=true}W.extend(e.defaults,Ak,true);Aj.index=Aj.index||1000;this.gestures.push(Aj);this.gestures.sort(function(Al,Am){if(Al.index<Am.index){return -1}if(Al.index>Am.index){return 1}return 0});return this.gestures}};e.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:true,drag_max_touches:1,drag_block_horizontal:false,drag_block_vertical:false,drag_lock_to_axis:false,drag_lock_min_distance:25},triggered:false,handler:function y(Al,Ak){var Ao=g.current;if(Ao.name!=this.name&&this.triggered){Ak.trigger(this.name+"end",Al);this.triggered=false;return}if(Ak.options.drag_max_touches>0&&Al.touches.length>Ak.options.drag_max_touches){return}switch(Al.eventType){case N:this.triggered=false;break;case m:if(Al.distance<Ak.options.drag_min_distance&&Ao.name!=this.name){return}var An=Ao.startEvent.center;if(Ao.name!=this.name){Ao.name=this.name;if(Ak.options.correct_for_drag_min_distance&&Al.distance>0){var Ap=Math.abs(Ak.options.drag_min_distance/Al.distance);An.pageX+=Al.deltaX*Ap;An.pageY+=Al.deltaY*Ap;An.clientX+=Al.deltaX*Ap;An.clientY+=Al.deltaY*Ap;Al=g.extendEventData(Al)}}if(Ao.lastEvent.drag_locked_to_axis||(Ak.options.drag_lock_to_axis&&Ak.options.drag_lock_min_distance<=Al.distance)){Al.drag_locked_to_axis=true}var Am=Ao.lastEvent.direction;if(Al.drag_locked_to_axis&&Am!==Al.direction){if(W.isVertical(Am)){Al.direction=(Al.deltaY<0)?l:d}else{Al.direction=(Al.deltaX<0)?C:n}}if(!this.triggered){Ak.trigger(this.name+"start",Al);this.triggered=true}Ak.trigger(this.name,Al);Ak.trigger(this.name+Al.direction,Al);var Aj=W.isVertical(Al.direction);if((Ak.options.drag_block_vertical&&Aj)||(Ak.options.drag_block_horizontal&&!Aj)){Al.preventDefault()}break;case P:if(this.triggered){Ak.trigger(this.name+"end",Al)}this.triggered=false;break}}};e.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:2},timer:null,handler:function j(Ak,Aj){switch(Ak.eventType){case N:clearTimeout(this.timer);g.current.name=this.name;this.timer=setTimeout(function(){if(g.current.name=="hold"){Aj.trigger("hold",Ak)}},Aj.options.hold_timeout);break;case m:if(Ak.distance>Aj.options.hold_threshold){clearTimeout(this.timer)}break;case P:clearTimeout(this.timer);break}}};e.gestures.Release={name:"release",index:Infinity,handler:function M(Ak,Aj){if(Ak.eventType==P){Aj.trigger(this.name,Ak)}}};e.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:0.7},handler:function w(Ak,Aj){if(Ak.eventType==P){if(Ak.touches.length<Aj.options.swipe_min_touches||Ak.touches.length>Aj.options.swipe_max_touches){return}if(Ak.velocityX>Aj.options.swipe_velocity||Ak.velocityY>Aj.options.swipe_velocity){Aj.trigger(this.name,Ak);Aj.trigger(this.name+Ak.direction,Ak)}}}};e.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:true,doubletap_distance:20,doubletap_interval:300},has_moved:false,handler:function i(Am,Ak){var Aj,An,Al;if(Am.eventType==N){this.has_moved=false}else{if(Am.eventType==m&&!this.moved){this.has_moved=(Am.distance>Ak.options.tap_max_distance)}else{if(Am.eventType==P&&Am.srcEvent.type!="touchcancel"&&Am.deltaTime<Ak.options.tap_max_touchtime&&!this.has_moved){Aj=g.previous;An=Aj&&Aj.lastEvent&&Am.timeStamp-Aj.lastEvent.timeStamp;Al=false;if(Aj&&Aj.name=="tap"&&(An&&An<Ak.options.doubletap_interval)&&Am.distance<Ak.options.doubletap_distance){Ak.trigger("doubletap",Am);Al=true}if(!Al||Ak.options.tap_always){g.current.name="tap";Ak.trigger(g.current.name,Am)}}}}}};e.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:false,prevent_mouseevents:false},handler:function Q(Ak,Aj){if(Aj.options.prevent_mouseevents&&Ak.pointerType==T){Ak.stopDetect();return}if(Aj.options.prevent_default){Ak.preventDefault()}if(Ak.eventType==N){Aj.trigger(this.name,Ak)}}};e.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:false,transform_within_instance:false},triggered:false,handler:function L(Al,Ak){if(g.current.name!=this.name&&this.triggered){Ak.trigger(this.name+"end",Al);this.triggered=false;return}if(Al.touches.length<2){return}if(Ak.options.transform_always_block){Al.preventDefault()}if(Ak.options.transform_within_instance){for(var Am=-1;Al.touches[++Am];){if(!W.hasParent(Al.touches[Am].target,Ak.element)){return}}}switch(Al.eventType){case N:this.triggered=false;break;case m:var Aj=Math.abs(1-Al.scale);var An=Math.abs(Al.rotation);if(Aj<Ak.options.transform_min_scale&&An<Ak.options.transform_min_rotation){return}g.current.name=this.name;if(!this.triggered){Ak.trigger(this.name+"start",Al);this.triggered=true}Ak.trigger(this.name,Al);if(An>Ak.options.transform_min_rotation){Ak.trigger("rotate",Al)}if(Aj>Ak.options.transform_min_scale){Ak.trigger("pinch",Al);Ak.trigger("pinch"+(Al.scale<1?"in":"out"),Al)}break;case P:if(this.triggered){Ak.trigger(this.name+"end",Al)}this.triggered=false;break}}};if(typeof define=="function"&&define.amd){define(function(){return e})}else{if(typeof module=="object"&&module.exports){module.exports=e}else{J.Hammer=e}}})(window);